#include <iostream>
#include <unordered_map>
struct Node {
	int cost[5][5];
	Node() {
		for (int i = 0; i < 5; ++i)
			for (int j = 0; j < 5; ++j)
				cost[i][j] =  i == j ? 0 : 1e9;
	}
};

std::string s, nice = "2017";
std::unordered_map<int, Node> tree;
std::ostream &operator<<(std::ostream& out, Node n) {
	for (int i = 0; i < 5; ++i) {
		for (int j = 0; j < 5; ++j)
			if (n.cost[i][j] == 1e9)
				out << "_ ";
			else
				out << n.cost[i][j] << ' ';
	 	out << std::endl;
	}
	return out;
}



Node join(Node n1, Node n2) {
	Node n3;
	for (int i = 0; i < 5; ++i)
		for (int j = i; j < 5; ++j)
			for (int k = i; k <= j; ++k)
				n3.cost[i][j] = std::min(n3.cost[i][j], n1.cost[i][k] + n2.cost[k][j]);
	return n3;
}

Node query(int n, int l, int r, int lq, int rq) {
	int m = l+(r-l)/2;
	Node nd;
	if (r < lq || rq < l || rq < lq)
		return Node();
	else if (lq <= l && r <= rq)
		return tree[n];
	else
		return join(query(n*2, l, m, lq, rq), query(n*2+1, m+1, r, lq, rq));
}

void print(int n, int l, int r) {
	int m = l+(r-l)/2;
	if (l == r) {
		std::cout << l << " " << r << std::endl << tree[n];
		return;
	}
	print(n*2, l, m);
	print(n*2+1, m+1, r);
	std::cout << l << " " << r << std::endl << tree[n];
}

void update(int n, int l, int r, int i, char v) {
	int m = l+(r-l)/2;
	if (i == l && l == r) {
		int state = nice.find(v);
		for (int i = 0; i < 5; ++i)
			for (int j = 0; j < 5; ++j)
				if (i == state && j == state+1)
					tree[n].cost[i][j] = 0;
				else if (i == j)
					tree[n].cost[i][j] = i == state;
		if (v == '6')
			tree[n].cost[3][3] = tree[n].cost[4][4] = 1;
	} else if (l <= i && i <= r) {
		if (i <= m)
			update(n*2, l, m, i, v);
		else
			update(n*2+1, m+1, r, i, v);
		tree[n] = join(tree[n*2], tree[n*2+1]);
	}
}

int main() {
	int n, q, lq, rq, ans, i;
	std::cin >> n >> q >> s;
	for (i = 0; i < n; ++i)
		update(1, 1, s.size(), i+1, s[i]);
	for (i = 0; i < q; ++i) {
		std::cin >> lq >> rq;
		ans = query(1, 1, s.size(), lq, rq).cost[0][4];
		std::cout << (ans == 1e9 ? -1 : ans) << std::endl;
	}
}
